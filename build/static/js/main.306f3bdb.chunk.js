(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{121:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(11),r=n.n(s),i=(n(95),n(43)),o=n(7),l=n(20),u=n(160),j=n(78),d=n(163),b=n(164),h=n(1),O=Object(u.a)((function(e){return{loaderWrapper:{display:"flex",width:"100vw",height:"100vh",flexDirection:"row",backgroundColor:"rgba(0, 0, 0, 0.2)",alignItems:"center",justifyContent:"center"}}})),m=Object(j.a)({palette:{primary:{main:"#222"}}}),x=function(){var e=O();return Object(h.jsx)("div",{className:"".concat(e.loaderWrapper),children:Object(h.jsx)(d.a,{theme:m,children:Object(h.jsx)(b.a,{})})})},f=n(12),C=n(79),p=n(177),v=n(169),g=function(e){var t=e.user,n=Object(c.useState)(null),a=Object(f.a)(n,2),s=a[0],r=a[1],o=Object(l.b)().logout;return Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("h1",{className:"page-title",children:"Phonebook"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{onClick:function(e){r(e.currentTarget)},children:Object(h.jsx)("img",{className:"profile-pic",src:t.picture,alt:t.nickname})}),Object(h.jsxs)(C.a,{id:"simple-menu",anchorEl:s,open:Boolean(s),onClose:function(){r(null)},TransitionComponent:v.a,children:["/"===window.location.pathname&&Object(h.jsxs)(p.a,{children:[" ",Object(h.jsx)(i.b,{to:"/profile",children:"Profile"})," "]}),"/profile"===window.location.pathname&&Object(h.jsxs)(p.a,{children:[" ",Object(h.jsx)(i.b,{to:"/",children:"Contacts"})," "]}),Object(h.jsx)(p.a,{onClick:function(){return o({returnTo:window.location.origin})},children:"Logout"})]})]})]})},w=n(55),N=n(13),y=n(44),S=n.n(y),L="/api/persons",k=function(){return S.a.get(L).then((function(e){return e.data}))},T=function(e){return S.a.post(L,e).then((function(e){return e}))},H=function(e){return S.a.delete("".concat(L,"/").concat(e)).then((function(e){return e.data}))},D=function(e,t){return S.a.put("".concat(L,"/").concat(e),t).then((function(e){return e.data}))},A=function(e){var t=e.filterQuery,n=e.filterHandler;return Object(h.jsxs)("div",{className:"filterRoot",children:[Object(h.jsx)("h2",{children:"Search"}),Object(h.jsx)("input",{type:"text",value:t,onChange:n,className:"filterSearch",placeholder:"Type here... "})]})},F=function(e){var t=e.newName,n=e.newNameHandler,c=e.newNumber,a=e.newNumberHandler,s=e.handleSubmit;return Object(h.jsxs)("form",{children:[Object(h.jsx)("h3",{children:"Add Contact"}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{value:t,type:"text",onChange:n,className:"addSearch",placeholder:"Name"})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{value:c,type:"number",onChange:a,className:"addSearch",placeholder:"Phone number"})}),Object(h.jsx)("button",{type:"submit",onClick:s,className:"addButton",children:"add"})]})},I=function(e){var t=e.width,n=e.height,c=e.fillColor;return Object(h.jsx)("svg",{width:t||"20",height:n||"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{d:"M13.9269 11.4289C14.9688 11.4289 15.9681 11.8428 16.7048 12.5795C17.4416 13.3163 17.8555 14.3155 17.8555 15.3574C17.8555 16.3993 17.4416 17.3986 16.7048 18.1353C15.9681 18.8721 14.9688 19.286 13.9269 19.286C12.885 19.286 11.8857 18.8721 11.149 18.1353C10.4122 17.3986 9.99833 16.3993 9.99833 15.3574C9.99833 14.3155 10.4122 13.3163 11.149 12.5795C11.8857 11.8428 12.885 11.4289 13.9269 11.4289ZM9.99833 1.60742C10.684 1.60736 11.3437 1.87028 11.8413 2.34202C12.339 2.81377 12.6368 3.4584 12.6733 4.14314L12.6769 4.28599H16.6055C16.7412 4.28603 16.8719 4.3376 16.971 4.43026C17.0702 4.52292 17.1305 4.64978 17.1398 4.78519C17.149 4.92061 17.1065 5.05449 17.0209 5.15978C16.9352 5.26507 16.8128 5.33392 16.6783 5.35242L16.6055 5.35742H15.849L15.3962 10.9517C15.0536 10.8376 14.6988 10.764 14.339 10.7324L14.7748 5.35742H5.2219L6.0869 16.0231C6.11956 16.4256 6.30252 16.801 6.59938 17.0747C6.89624 17.3484 7.28526 17.5003 7.68904 17.5003L9.80761 17.501C10.0126 17.8946 10.2726 18.2553 10.5769 18.5724L7.68904 18.5717C7.01607 18.5718 6.36774 18.3185 5.87302 17.8623C5.37829 17.4061 5.07342 16.7803 5.01904 16.1096L4.1469 5.35742H3.39118C3.26173 5.35742 3.13665 5.31053 3.03909 5.22545C2.94153 5.14036 2.87807 5.02282 2.86047 4.89456L2.85547 4.82171C2.85547 4.69225 2.90236 4.56718 2.98745 4.46961C3.07253 4.37205 3.19007 4.3086 3.31833 4.29099L3.39118 4.28599H7.31975C7.31975 3.57559 7.60196 2.89429 8.10429 2.39196C8.60662 1.88963 9.28792 1.60742 9.99833 1.60742V1.60742ZM12.1583 13.5889C12.0914 13.6558 12.0538 13.7466 12.0538 13.8414C12.0538 13.9361 12.0914 14.0269 12.1583 14.0939L13.4219 15.3581L12.1598 16.6196C12.0927 16.6865 12.055 16.7774 12.0549 16.8722C12.0548 16.9669 12.0924 17.0579 12.1594 17.1249C12.2264 17.192 12.3172 17.2297 12.412 17.2298C12.5068 17.2298 12.5977 17.1922 12.6648 17.1253L13.9269 15.8631L15.1912 17.1267C15.2241 17.1608 15.2635 17.188 15.3071 17.2067C15.3507 17.2255 15.3975 17.2353 15.445 17.2357C15.4924 17.2361 15.5394 17.2271 15.5833 17.2091C15.6272 17.1912 15.6671 17.1647 15.7006 17.1311C15.7341 17.0976 15.7607 17.0577 15.7786 17.0138C15.7966 16.9699 15.8056 16.9229 15.8052 16.8755C15.8048 16.8281 15.7949 16.7812 15.7762 16.7376C15.7575 16.6941 15.7303 16.6547 15.6962 16.6217L14.4326 15.3574L15.6976 14.0931C15.7627 14.0258 15.7987 13.9356 15.7979 13.8419C15.797 13.7483 15.7595 13.6587 15.6933 13.5925C15.627 13.5263 15.5375 13.4887 15.4438 13.4879C15.3502 13.4871 15.26 13.5231 15.1926 13.5881L13.9276 14.8524L12.6633 13.5881C12.5964 13.5212 12.5055 13.4836 12.4108 13.4836C12.3161 13.4836 12.2253 13.5212 12.1583 13.5881V13.5889ZM9.99833 2.67885C9.59109 2.6788 9.19903 2.83335 8.90136 3.11126C8.60369 3.38917 8.42263 3.76972 8.39475 4.17599L8.39118 4.28599H11.6055L11.6019 4.17599C11.574 3.76972 11.393 3.38917 11.0953 3.11126C10.7976 2.83335 10.4056 2.6788 9.99833 2.67885V2.67885Z",fill:c||"#FFAC99"})})},E=n(170),P=n(176),B=function(e){var t=e.contacts,n=e.filterQuery,a=e.deleteContact,s=(e.editContact,Object(c.useState)(!0)),r=Object(f.a)(s,2),i=r[0],o=r[1];Object(c.useEffect)((function(){t.length<1?setTimeout((function(){o(!1)}),7e3):t.length>0&&o(!1)}),[t]);var l=t.filter((function(e){return JSON.stringify(e).toLowerCase().trim().includes(n.toLowerCase())})),u=[];return l.length>0&&(u=l.sort((function(e,t){return e.name>t.name?1:-1}))),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{style:{color:"white"},children:"Contacts"}),Object(h.jsxs)("table",{children:[Object(h.jsxs)("thead",{children:[Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Phone Number"}),Object(h.jsx)("th",{children:"Action"})]}),Object(h.jsxs)("tbody",{children:[!0===i&&Object(h.jsx)("div",{style:{color:"white",fontSize:"16px"},children:Object(h.jsx)(b.a,{})}),u.length>0&&u.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[" ",e.name," "]}),Object(h.jsxs)("td",{children:[" ",e.number," "]}),Object(h.jsx)("td",{children:Object(h.jsx)(P.a,{arrow:!0,title:"Delete",children:Object(h.jsxs)(E.a,{onClick:function(){return a(e.id)},children:[" ",Object(h.jsx)(I,{fillColor:"white"})," "]})})})]},e.name)}))]})]})]})},W=function(e){var t=e.message;return null===t.status?null:Object(h.jsxs)("div",{className:"error",style:{backgroundColor:"success"===t.status?"rgb(74, 185, 52)":"rgb(212, 56, 56)"},children:[Object(h.jsxs)("div",{className:"statusCode",children:[t.statusCode," "]}),Object(h.jsx)("div",{className:"statusText",children:t.statusText})]})},M=n(173),Q=n(174),Z=n(178),G=n(172),J=n(171),R=n(179),U=function(e){var t=e.discardSave,n=e.handleSave,c=e.open,a=e.editContactDetails,s=e.setEditContactDetails;return Object(h.jsx)("div",{children:Object(h.jsxs)(Z.a,{open:c,onClose:t,"aria-labelledby":"form-dialog-title",children:[Object(h.jsx)(R.a,{id:"form-dialog-title",children:"Edit Contact"}),Object(h.jsxs)(J.a,{children:[Object(h.jsx)(Q.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",fullWidth:!0,value:a.newName,onChange:function(e){s(Object(N.a)(Object(N.a)({},a),{},{newName:e.target.value}))}}),Object(h.jsx)(Q.a,{margin:"dense",id:"phone",label:"Phone",type:"text",fullWidth:!0,value:a.newNumber,onChange:function(e){s(Object(N.a)(Object(N.a)({},a),{},{newNumber:e.target.value}))}})]}),Object(h.jsxs)(G.a,{children:[Object(h.jsx)(M.a,{onClick:t,color:"primary",children:"Cancel"}),Object(h.jsx)(M.a,{onClick:n,color:"primary",variant:"contained",children:"Save"})]})]})})},V=function(e){e.user;var t=Object(c.useState)(!1),n=Object(f.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([]),i=Object(f.a)(r,2),o=(i[0],i[1],Object(c.useState)([])),l=Object(f.a)(o,2),u=l[0],j=l[1],d=Object(c.useState)({}),b=Object(f.a)(d,2),O=b[0],m=(b[1],Object(c.useState)("")),x=Object(f.a)(m,2),C=x[0],p=x[1],v=Object(c.useState)(""),g=Object(f.a)(v,2),y=g[0],S=g[1],L=Object(c.useState)(""),I=Object(f.a)(L,2),E=I[0],P=I[1],M=Object(c.useState)(0),Q=Object(f.a)(M,2),Z=Q[0],G=Q[1],J=Object(c.useState)({oldName:"",oldNumber:0,newName:"",newNumber:0}),R=Object(f.a)(J,2),V=R[0],z=R[1],K=Object(c.useState)({status:null,statusCode:null,statusText:null}),Y=Object(f.a)(K,2),q=Y[0],X=Y[1],$=Object(c.useState)(!1),_=Object(f.a)($,2),ee=_[0],te=_[1];Object(c.useEffect)((function(){return k().then((function(e){console.log("All contacts",e),j(e)})),function(){s(!1)}}),[a]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(W,{message:q}),Object(h.jsx)(U,{discardSave:function(){return te(!1)},handleSave:function(){var e=u.findIndex((function(e){return e.id===Z})),t=Object(w.a)(u);t[e]={name:V.newName,number:V.newNumber,id:t[e].id};var n=Object(N.a)(Object(N.a)({},O),{},{contacts:t});D(O.id,n).then((function(e){console.log(e),j(e.contacts),X({status:"success",statusCode:"200",statusText:"Updated Successfully!"}),setTimeout((function(){X(Object(N.a)(Object(N.a)({},q),{},{status:null}))}),2e3),te(!1)}))},open:ee,newName:C,setNewName:p,newNumber:y,setNewNumber:S,editContactDetails:V,setEditContactDetails:z}),Object(h.jsxs)("div",{className:"root",children:[Object(h.jsxs)("div",{className:"functionSection",children:[Object(h.jsx)(A,{filterQuery:E,filterHandler:function(e){return P(e.target.value)}}),Object(h.jsx)(F,{newName:C,newNameHandler:function(e){return p(e.target.value)},newNumber:y,newNumberHandler:function(e){return S(e.target.value)},handleSubmit:function(e){e.preventDefault();var t=u.findIndex((function(e){return e.name===C})),n=u.findIndex((function(e){return e.number===y}));""===C||""===y?alert("Name and Number fields can't be empty"):-1!==t?window.confirm("".concat(u[t].name," is already added to the phonebook. Do you want to replace the old number with the new one?"))&&D(u[t].id,Object(N.a)(Object(N.a)({},u[t]),{},{number:y})).then((function(e){var n=Object(w.a)(u);n[t]=Object(N.a)(Object(N.a)({},n[t]),{},{number:e.number}),j(n),X({status:"success",statusCode:"200",statusText:"Updated Successfully!"}),setTimeout((function(){X(Object(N.a)(Object(N.a)({},q),{},{status:null}))}),2e3)})):-1!==n?(alert("A contact with that number already exists - ".concat(u[n].name)),p(""),S("")):(T({name:C,number:y}).then((function(e){X({status:"success",statusCode:e.status,statusText:"Contact Added!!"}),setTimeout((function(){X(Object(N.a)(Object(N.a)({},q),{},{status:null}))}),2e3)})),p(""),S(""),s(!0))}})]}),Object(h.jsx)("div",{className:"displayContacts",children:Object(h.jsx)(B,{contacts:u,filterQuery:E,deleteContact:function(e){var t=u.findIndex((function(t){return t.id===e}));window.confirm("Do you want to delete ".concat(u[t].name," - ").concat(u[t].number))&&(Object(w.a)(u).splice(t,1),H(e).then((function(e){j(e),X({status:"success",statusCode:200,statusText:"Deleted Successfully"}),setTimeout((function(){X(Object(N.a)(Object(N.a)({},q),{},{status:null}))}),2e3)})).catch((function(e){return console.log(e)})))},editContact:function(e){G(e);var t=u.filter((function(t){return t.id===e}))[0];z(Object(N.a)(Object(N.a)({},V),{},{oldName:t.name,oldNumber:t.number,newName:t.name,newNumber:t.number})),te(!0)}})})]})]})},z=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Banking and Finance "}),Object(h.jsx)("p",{children:"This is a restricted page"})]})},K=(n(121),function(){var e=Object(l.b)().loginWithRedirect;return Object(h.jsxs)("div",{className:"login-container",children:[Object(h.jsx)("h1",{children:"Welcome to the Phonebook App"}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){return e()},children:"Log In"})})]})}),Y=function(){var e=Object(l.b)(),t=e.user,n=e.isAuthenticated;return e.isLoading?Object(h.jsx)("div",{children:"Loading ..."}):n&&Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:t.picture,alt:t.name}),Object(h.jsx)("h2",{children:t.name}),Object(h.jsx)("p",{children:t.email})]})},q=function(){var e=Object(l.b)(),t=e.isAuthenticated,n=e.user;return e.isLoading?Object(h.jsx)(x,{}):t?Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsxs)(i.a,{children:[Object(h.jsx)(g,{user:n}),Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",element:Object(h.jsx)(V,{user:n})}),Object(h.jsx)(o.a,{path:"/Login",element:Object(h.jsx)(K,{})}),Object(h.jsx)(o.a,{path:"/Banking",element:Object(h.jsx)(z,{})}),Object(h.jsx)(o.a,{path:"/Profile",element:Object(h.jsx)(Y,{user:n})})]})]})}):Object(h.jsx)(K,{})};r.a.render(Object(h.jsx)(l.a,{domain:"dev-8gitaj8h.us.auth0.com",clientId:"RGFm9O9ggYaLzQsuv00gLiHSes3pGKG7",redirectUri:window.location.origin,children:Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(q,{})})}),document.getElementById("root"))},95:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.306f3bdb.chunk.js.map